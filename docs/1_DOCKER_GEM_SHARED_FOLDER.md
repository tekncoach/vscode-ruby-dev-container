# Gem Docker volume

Setup a Docker shared volume for gems

Volumes are the preferred mechanism for persisting data generated by and used by Docker containers.
https://docs.docker.com/storage/volumes/

## Initial volume setup

1. Host machine (your PC/Mac):

    On the host machine where Docker Desktop or OrbStack is installed run:

    ```bash
    docker volume create ruby-dev-container-bundle-cache
    # Where "ruby-dev-container-bundle-cache" is the name of the volume
    ```

2. Inside the VSCode container:

    Later, after rebuilding and linking the volume in `docker-compose.yml`,
    in the container terminal, allow 'vscode' user to install gems by running:

    ```bash
    # To be run inside the container, on the mounted volume
    sudo chown vscode:vscode /bundle
    ```

3. Host machine:

    - Open the volume in your host machine explorer (Finder on Mac)
    - Copy the `home-vscode-dotfiles` folder with `.bash_aliases` file inside directly in `/bundle/home-vscode-dotfiles/`
      to allow the symlink in `/home/vscode/.bash_aliases` (See `Dockerfile`) to work and load aliases in `bash` automatically
